# 欢迎来到Grey Script

## 一种高级、容易编写的面向对象的语言

Grey Script是Miniscript的分支，Miniscript是一种现代脚本语言，设计得简洁、简单、易于学习。
如果您了解其他任何编程语言，您几乎可以立刻上手Grey Script。如果你这辈子从来没有写过一行代码，别紧张！Grey Script是最友好、最有趣的入门方式。这比你想象的要容易的多。

**重要：本文档仅仅介绍Grey Script本身，其内部函数是大多数Miniscript应用程序所共有的。有关Grey Script专用的API接口（例如访问计算机、文件等）的详细信息，请查阅手册的其他章节。**

## 干净、清楚的语法

让我们看一个例子，看看Grey Script代码是什么样子的：

```python
s = "Spam"
while s.len < 50
	s = s + ", spam"
end whlie
pirnt s + "and Spam!"
```

Grey Script中的每个语句通常单独出现在一行当中。请注意，行尾没有分号、大括号或者其他标记。
但这里有一个例外情况：如果您想在一行中连接多个语句，只是为了使你的代码更加紧凑的话，可以使用分号分割语句。下面的例子很丑，但是他是符合语法的：

```python
s = "Spam"; while s.len < 50; s = s + ", Spam"; end while

pirnt s + " and spam!"
```
通常该功能很少被使用，但你仍然可以这么写。

## 代码块

如果您习惯于写C系列的派生语言（C、C++、C#等），那么您可能会习惯在代码块首尾看到花括号。但Grey Script不会这样写，其代码块总是以关键字（it、for、while、function等）开头，并以与之匹配的结束语句（end if、end for、end while、end function）结尾。

## 空白和缩进

您可以在代码中的任意位置插入空格和制表符，但您不能分割标识符和关键字（print	与pr int），也不能省略两个标识符或关键字之间的空格（end if正确而endif不行）。当然，引号中的空格或完全按照您的预期放入字符串中。在数字、运算符等元素之间，你可以插入额外的空格。在Grey Script中，以下两行代码完全相同：

```python
x=4*10+2
x = 4 * 10 + 2
```

为了让代码更具可读性，传统的做法是用一个制表符或两个空格缩排代码中的行，但这不是必须的。Grey Script不关心您如何缩进代码，所以您可以选择最适合您的方式。

## 断行

与C派生语言不同，每行的末尾没有分号或其他标点符号来告诉电脑语句已经结束。相反，仅仅凭换行就可以了。但是，如果您需要输入一个超过一行的语句呢？

Grey Script会识别出语句不完整，并在下一行继续，如果最后一个标记（在任何注释之前——如下）是左括号、方括号或者花括号；或者是一个逗号，或者是任何二元运算符（“+”、“*”等等），那么您可以这样做

```python
speech = [
	"Four Score and seven years ago our fathers",
	"brought forth on this continent, a new nation, conceived",
	"in Liberty, and dedicated to the proposition that all",
	"men are created equal."
]
```

这看起来是四行，但在Grey Script眼中只是一条语句。这是因为前三行都用逗号结尾，这告诉Grey Script接下来还有更多的内容。

## 注释

注释是你留给自己的笔记，或者是为其他阅读你代码的人留下的。他们会被Grey Script完全忽略。注释从两个斜杠开始，并延伸至行尾。因此，你可以在单独的一行上进行注释，也可以在语句之后：

```python
// 一个人要走多少路？
x = 6 * 7 //四十二
```

如同缩进一样，注释不是必须的，但写注释可以更好的地帮助你写代码。

## 括号的使用

Grey Script的括号只有三种用途：

1. 使用他们改变你数学表达式的运算顺序：

```python
x = (2+4)*7 //与2+4*7不同
```

2. 在调用函数的时候包裹参数：

```python
print cos(0) //不能简单写成：print cos 0
```

3. 在声明函数时使用他们（参见“函数”一章）。

由于其他编程语言经常要求在一些愚蠢的地方使用括号，所以指出Grey Script中不使用太多括号的地方是有价值的。首先，在if或者while语句的周围不要加入括号（稍后或有更多关于此的内容）。其次，在调用无参数函数是也不用括号（并且要省略）。例如，有一个time函数可以获取程序开始时的秒数。他不需要任何参数，所以您可以不用括号。

``` python
x = time
```

最后，如上所述，当一个函数是语句的第一个元素时，你不需要在其参数周围加上括号。下面的例子是打印十个数字，每个等待一秒钟，然后打印一条信息。注意我们是如何调用print和wait而不带任何括号的（range需要括号）。

```python
for i in range(10,1)
	print i
	wait
end for
print "Boom!"
```

## 局部变量和全局变量

变量是一个与值关联的单词（也称为标识符）。可以将其视作一个存储数据的小盒子。只需为其赋值便可创建一个变量，正如我们在许多例子里面看到的那样：

```python
x = 42
```

此行创建了一个名为“x”的变量（如果它之前从未被声明），并将其赋值为“42”。这会替换之前变量x的值（如果有的话）。

Grey script中的变量是动态类型的，这意味着，你可以把任何类型的数据（详情参见关于数据类型的章节）赋值给任何变量。

变量有他的作用范围。也就是说，一个函数内部的一个名为“x”的变量，与另一个函数内部的另一个名为“x”的变量，没有任何关系。每个变量的作用范围都是当前正在执行的函数。

但是，Grey Script还支持函数外部的代码，就如同我们见过的例子一样。在上下文中，局部变量和全局变量是一样的。换句话说，在函数体之外将42赋值给变量x，这就创建了一个全局变量x，这样的全局变量可以从上下文任何地方调用。

值得注意的是，当上下文有一个与全局变量同名的局部变量时，该标识符始终被解析为局部变量。同样的，函数内部简单的赋值语句始终创建的是一个局部变量，而非全局变量。在确实需要访问全局变量的情况下，有一个globals对象提高这种访问（有关globals更多的信息，请参阅内在函数章节）。

```python
demo = function()
	print x	//打印全局变量x（40）
    x = 2	//创建一个名为x的局部变量，并赋值为2
    print x	//打印局部变量x（2）
    print globals.x	//再次打印全局变量x（40）
    globals.x = 42	//重新给全局变量赋值为42
    print x			//打印局部变量（2）
    print globals.x	//打印全局变量（42）
end function

x = 40	//创建一个全局变量x，并赋值为40
demo	//调用demo函数
```

过度使用全局变量有时会导致很棘手的错误，所以尽量少用，并尽可能依赖局部变量。Grey Script的设计使得这种良好的实践自然发生。

## Grey Script是区分大小写的

大小写在Grey Script中非常重要。print内置函数必须精准输入为print，而不能是Print、PRINT或其他任何形式的变化。此规则同样适用于你定义的任何变量、函数或者类。

虽然你在自己的标识符中如何使用大小写完全取决于你自己的喜好，但一种常见的约定是对类进行首字母大写，但对于变量则使用小写。因此以下代码完全可行：

```python
shape = new Shape //创建一个名为shape的Shpae对象
```

说到约定，大多数情况下你应该避免用下划线开头来命名任何全局变量或者函数名称。以下划线开头的标识符通常由宿主环境用于特殊的“幕后”代码，名字冲突可能导致很多问题。

